<div class="container-autenticacao">
  <div class="grid m-0 p-0 h-100">
    @if(!this.mostrarEsqueceuSenha && !this.mostrarFormCodigo){
      <div class="col-12 md:col-4 container-login flex flex-column justify-content-center row-gap-4">
        <img src="../../../assets/icons/logoGGdescritivoVerde.svg" alt="Logo" width="250">
        <p class="text-2xl font-bold">Bem-vindo</p>
        <p class="text-sm font-light">Para prosseguir, informe seu usuário e senha.</p>
        <form [(formGroup)]="formLogin" class="w-100">
          <div class="grid flex justify-content-center">
            <div class="col-12 mb-2">
                <app-form type="text"
                id="username" [appElementoFoco]="'username'" [atalho]="'1'" [ctrl]="true"
                label="Usuário" formControlName="username" placeholder="Digite seu usuário" ngDefaultControl/>
            </div>
            <div class="col-12 mb-3">
              <app-form type="password"
                id="password" [appElementoFoco]="'password'" [atalho]="'1'" [ctrl]="true"
                label="Senha" formControlName="password" placeholder="Digite sua senha" ngDefaultControl/>
            </div>
            <div class="col-12 mt-3">
              <p-button label="Entrar" size="large" styleClass="d-flex justify-content-center mt-3"
                [appAtalhoEvento]="'Enter'" (evento)="login()" (click)="login()" />
                <p class="mt-2 text-center text-xs font-light">Não consegue acessar? <a class="redefinirSenha" (click)="alternarFormulario()">Clique aqui.</a></p>
                <p class="mt-3 text-center text-sm font-light">Não possuí uma conta? <a class="redefinirSenha" (click)=redirectCadastro()>Cadastre-se!</a></p>
            </div>
            
          </div>
        </form>
      </div>
      } @else if(this.mostrarEsqueceuSenha && !this.mostrarFormCodigo){
      <div class="col-12 md:col-4 container-login flex flex-column justify-content-center row-gap-4">
        <img src="../../../assets/icons/logoGGdescritivoVerde.svg" alt="Logo" width="200">
        <a class="flex align-items-center cursor-pointer" (click)="alternarFormulario()"><i class="material-symbols-outlined mr-2 text-primary">arrow_back</i>Voltar ao login</a>
        <form [(formGroup)]="formRecuperacaoSenha" class="w-100">
          <p class="text-2xl font-bold">Esqueceu a senha?</p>
          <p class="text-sm font-light">Informe o seu endereço de e-mail cadastrado:</p>
          <div class="grid flex justify-content-center mt-2">
            <div class="col-12 mb-2">
                <app-form type="text"
                id="email" [appElementoFoco]="'email'" [atalho]="'1'" [ctrl]="true"
                label="Email" formControlName="email" placeholder="Digite seu email" ngDefaultControl [required]="true" erro="Informe um email válido!"/>
            </div>
            <div class="col-12 mt-1">
              <p-button label="Enviar email" size="large" styleClass="d-flex justify-content-center mt-3" [appAtalhoEvento]="'Enter'" (evento)="login()" (click)="enviarEmailRecuperacaoSenha()" />
            </div>
          </div>
        </form>
      </div>
      } @else {
        <div class="col-12 md:col-4 container-login flex flex-column justify-content-center row-gap-4">
          <img src="../../../assets/icons/logoGGdescritivoVerde.svg" alt="Logo" width="200">
          <a class="flex align-items-center cursor-pointer" (click)="this.mostrarFormCodigo = false"><i class="material-symbols-outlined mr-2 text-primary">arrow_back</i>Voltar a página anterior</a>
          <form [(formGroup)]="formNovaSenha" class="w-100">
            <p class="text-2xl font-bold">Digite o código:</p>
            <div class="grid flex justify-content-center mt-2">
              <div class="col-12 mb-2">
                <app-form type="text"
                id="email" [appElementoFoco]="'email'" [atalho]="'1'" [ctrl]="true"
                label="Email" formControlName="email" placeholder="Digite seu email" ngDefaultControl [required]="true" erro="Informe um email válido!"/>
              </div>
              <div class="col-12 mb-2">
                  <app-form type="text"
                  id="codigo" [appElementoFoco]="'codigo'" [atalho]="'2'" [ctrl]="true"
                  label="Código de verificação" formControlName="codigo" placeholder="Digite seu codigo" ngDefaultControl [required]="true" erro="Informe o código!"/>
              </div>
              <div class="col-12 mb-2">
                <app-form type="password"
                  id="password" [appElementoFoco]="'password'" [atalho]="'3'" [ctrl]="true"
                  label="Nova senha" formControlName="password" placeholder="Digite sua senha" ngDefaultControl [required]="true" erro="Informe uma senha válida!" ajuda="Para sua segurança, sua nova senha deve conter 8 ou mais caracteres, letra maiúscula(M), letra minúscula(m), símbolos(!) e números(1)"/>
              </div>
              <div class="col-12 mb-2">
                <app-form type="password"
                  id="confirm_password" [appElementoFoco]="'confirm_password'" [atalho]="'4'" [ctrl]="true"
                  label="Confirme a nova senha" formControlName="confirm_password" placeholder="Confirme a sua senha" ngDefaultControl [required]="true" erro="As senhas não coincidem!"/>
              </div>
              <div class="col-12 mt-1">
                <p-button label="Salvar nova senha" size="large" styleClass="d-flex justify-content-center mt-3" [appAtalhoEvento]="'Enter'" (evento)="login()" (click)="enviarNovaSenha()" />
                <p class="mt-2 text-center text-xs font-light">Não recebeu o código? <a class="redefinirSenha" (click)="enviarEmailRecuperacaoSenha()">Clique aqui.</a></p>
              </div>
            </div>
          </form>
        </div>
      }
    <div class="col-12 hidden justify-content-center align-items-center md:col-8 md:flex p-0">
        <img src="../../../assets/img/trader2.webp" alt="Img trader esportivo" style="width: 100%; height: 100vh; max-width: 100%; object-fit: cover;">
    </div>
  </div>
</div>
