<ng-template #loading>
    <app-loader class="flex justify-content-center w-100"></app-loader>
</ng-template>

<p-card class="border-round-lg">
    <div class="grid mb-2">
      <div class="col-12 flex justify-content-between">
        <p class="p-card-title">Cadastro de usuários</p>
        <p class="p-card-subtitle flex align-items-center">Versão 1.0.0</p>
      </div>
    </div>
    <div class="grid">
        <div class="col-12 lg:col-2">
            <div class="block">
                <p class="font-semibold text-sm mb-2">Usuários?</p>
                <p class="font-light text-color-secondary text-xs mb-2">Esta seção é dedicada ao cadastro e gerenciamento de usuários do sistema. Aqui, você pode criar novos itens de usuários que serão exibidos na interface do usuário.</p>
            </div>
        </div>
        <div class="col-12 lg:col-10 lg:pl-4 overflow-y-auto" style="height: 65vh;">
            <form [formGroup]="formularioCadastroUsuarios">
                <div class="grid">
                    <div class="field col-6 lg:col-4">
                        <div class="w-100">
                            <app-form label="Username" type="text" formControlName="usuario" [required]="true" ngDefaultControl erro="Digite o nome de usuário!" />
                        </div>
                    </div>
                    <div class="field col-6 lg:col-4">
                        <div class="w-100">
                            <app-form label="Nome" type="text" formControlName="nm_primeiro" [required]="true" ngDefaultControl erro="Digite o nome do usuário!"/>
                        </div>
                    </div>
                    <div class="field col-6 lg:col-4">
                        <div class="w-100">
                            <app-form label="Sobrenome" type="text" formControlName="nm_ultimo" [required]="true" ngDefaultControl erro="Digite o sobrenome do usuário!"/>
                        </div>
                    </div>
                    <div class="field col-6 lg:col-4">
                        <div class="w-100">
                            <app-form label="CPF" type="cpf" formControlName="cpf" [required]="true" ngDefaultControl erro="Digite o CPF do usuário!"/>
                        </div>
                    </div>
                    <div class="field col-6 lg:col-4">
                        <div class="w-100">
                            <app-form label="Email" type="text" formControlName="email" [required]="true" ngDefaultControl erro="Digite o email do usuário!"/>
                        </div>
                    </div>
                    <div class="field col-6 lg:col-4">
                        <div class="w-100">
                            <app-form label="Telefone" type="telefone" formControlName="telefone_completo_form" [required]="true" ngDefaultControl erro="Digite o telefone do usuário!"/>
                        </div>
                    </div>
                    <div class="field col-6 lg:col-4">
                        <div class="w-100">
                            <app-form label="Data de nascimento" type="date" formControlName="data_nascimento" ngDefaultControl erro="Digite a data de nascimento do usuário!"/>
                        </div>
                    </div>
                    <div class="field col-12">
                        <div class="w-100">
                            <app-form label="Grupo" type="dualist" formControlName="lista_grupos_usuario" ngDefaultControl [items]="gruposFuncionario" [required]="true" erro="Selecione pelo menos um grupo!"/>
                        </div>
                    </div>
                    <div class="field col-12">
                        <div class="w-100">
                            <app-form label="Perfis" type="dualist" formControlName="lista_perfis_usuario" [items]="perfisFuncionario" ngDefaultControl [required]="true" erro="Selecione pelo menos um perfil!"/>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    
    <ng-template pTemplate="footer">
        <div class="flex justify-content-end">
            <div class="col-6 lg:col-2">
                <p-button label="Voltar" icon="pi pi-times" [outlined]="true" size="small" styleClass="p-button-primary p-button-sm" (click)="this.location.back();"></p-button>
            </div>
            <div class="col-6 lg:col-2">
                <p-button label="Salvar" icon="pi pi-check" size="small" styleClass="p-button-success p-button-sm" (click)="onSubmit()"></p-button>
            </div>
        </div>
    </ng-template>
</p-card>